webpackJsonp([1],{"1eKO":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("home")],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},"2AW1":function(t,e,n){"use strict";var i=n("ZcX9");e.a={name:"vote",components:{Options:i.a},data:function(){return{topic:"",title:""}},computed:{add:function(){return this.$store.state.vote.topic}},methods:{handleAdd:function(){""!==this.title&&(this.$store.commit({type:"addTitle",title:this.title}),this.title="")}}}},"3wLd":function(t,e){},"40sN":function(t,e,n){"use strict";function i(t){n("3wLd")}var s=n("RePM"),o=n("hhUx"),a=n("VU/8"),r=i,c=a(s.a,o.a,!1,r,"data-v-60517f0b",null);e.a=c.exports},"7zPv":function(t,e,n){"use strict";var i=n("40sN");e.a={name:"result",components:{Chart:i.a},computed:{options:function(){var t=this.$store.state.vote.all,e=this.$store.state.vote.votes;return t.map(function(t){var n=e.filter(function(e){return e.optionId==t.id}).length;return{title:t.title,optionId:t.id,voteCount:n}}).sort(function(t,e){return e.voteCount-t.voteCount})}}}},"9dN6":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("div",{staticClass:"username"},[t.isAuthenticated?n("p",[t._v("我是"+t._s(t.username)+"\n      "),n("button",{staticClass:"logout",attrs:{to:"/"},on:{click:t.logout}},[t._v("退出")]),t._v(" "),n("vote",{attrs:{username:t.username}})],1):n("p",[t._v("你是"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{placeholder:"你的名字"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),t._v(" "),n("button",{staticClass:"username-button",on:{click:t.handleClick}},[t._v("保存")])])])])},s=[],o={render:i,staticRenderFns:s};e.a=o},"D+VX":function(t,e,n){"use strict";var i={isAuthenticated:!1,username:""},s={username:function(t,e){var n=e.text;t.username=n,t.isAuthenticated=!0,console.log(n)},logout:function(t){t.isAuthenticated=!1}};e.a={state:i,mutations:s}},FcqW:function(t,e,n){"use strict";var i=n("Z8es");n.n(i);e.a={name:"vote-action",props:["option","allVote"],computed:{votes:function(){var t=this;return this.$store.state.vote.votes.filter(function(e){return e.optionId==t.option.id})},complated:function(){var t=this;return this.votes.filter(function(e){return e.name===t.username}).length},username:function(){return this.$store.state.auth.username}},methods:{handleName:function(){var t=n("Z8es");if(console.log(t.generate()),!this.complated&&this.username){var e={name:this.username,optionId:this.option.id,id:t.generate()};this.$store.commit({type:"voteup",vote:e})}},handleDelete:function(){var t=this,e=this.votes.find(function(e){return e.name===t.username});this.$store.commit({type:"delete",id:e.id})}}}},Fs8J:function(t,e,n){"use strict";var i=n("xJsL");e.a={name:"home",components:{Login:i.a}}},IX8x:function(t,e,n){"use strict";var i=n("J+oA"),s=n("N/0d");e.a={name:"options",components:{VoteOption:i.a,Result:s.a},computed:{options:function(){return this.$store.state.vote.all}}}},IcnI:function(t,e,n){"use strict";var i=n("7+uW"),s=n("NYxO"),o=n("D+VX"),a=n("QFJm");i.a.use(s.a),e.a=new s.a.Store({modules:{auth:o.a,vote:a.a}})},"J+oA":function(t,e,n){"use strict";function i(t){n("M/YB")}var s=n("FcqW"),o=n("uOjy"),a=n("VU/8"),r=i,c=a(s.a,o.a,!1,r,"data-v-105026bc",null);e.a=c.exports},JngR:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vote"},[n("div",{staticClass:"add"},[n("div",{staticClass:"vote-img"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"add-input",domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),n("button",{staticClass:"add-img",on:{click:t.handleAdd}},[t._v("添加美食")])]),t._v(" "),n("options")],1)])},s=[],o={render:i,staticRenderFns:s};e.a=o},"M/YB":function(t,e){},M93x:function(t,e,n){"use strict";function i(t){n("xQjm")}var s=n("xJD8"),o=n("1eKO"),a=n("VU/8"),r=i,c=a(s.a,o.a,!1,r,null,null);e.a=c.exports},"N/0d":function(t,e,n){"use strict";function i(t){n("dmGb")}var s=n("7zPv"),o=n("vQjt"),a=n("VU/8"),r=i,c=a(s.a,o.a,!1,r,"data-v-1ff98340",null);e.a=c.exports},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),s=n("M93x"),o=n("IcnI");i.a.config.productionTip=!1,new i.a({el:"#app",store:o.a,template:"<App/>",components:{App:s.a}})},QFJm:function(t,e,n){"use strict";var i=n("mtWM"),s=(n.n(i),{all:[{type:"addImg",title:"宫保鸡丁",id:1},{type:"addImg",title:"鱼香肉丝",id:2},{type:"addImg",title:"酸辣土豆丝",id:3}],votes:[{name:"beginner",optionId:1,id:1},{name:"beginner",optionId:1,id:2}]}),o={addTitle:function(t,e){var n=e.topic,i=e.title;t.topic=n,t.all.push({title:i})},loadOptions:function(t,e){t.all=e.all},voteup:function(t,e){t.votes.push(e.vote)},loadVotes:function(t,e){t.votes=e},delete:function(t,e){console.log(e),t.votes=t.votes.filter(function(t){return t.id!==e.id})}};e.a={state:s,mutations:o}},RePM:function(t,e,n){"use strict";e.a={name:"chart",props:["option"],computed:{totalVotes:function(){return this.$store.state.vote.votes.length},percent:function(){return(this.option.voteCount/this.totalVotes).toFixed(2)},percentStr:function(){return 100*this.percent+" 100"}}}},ZcX9:function(t,e,n){"use strict";function i(t){n("gykw")}var s=n("IX8x"),o=n("pdNA"),a=n("VU/8"),r=i,c=a(s.a,o.a,!1,r,"data-v-24ef86ea",null);e.a=c.exports},cNwt:function(t,e,n){"use strict";function i(t){n("ykTU")}var s=n("2AW1"),o=n("JngR"),a=n("VU/8"),r=i,c=a(s.a,o.a,!1,r,"data-v-2169264d",null);e.a=c.exports},dmGb:function(t,e){},gykw:function(t,e){},hhUx:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chart"},[n("h1",[t._v(t._s(t.option.title))]),t._v(" "),n("div",{staticClass:"pie-yum"},[n("svg",{attrs:{width:"100",height:"100",viewBox:"0 0 32 32"}},[n("circle",{attrs:{id:"percent",r:"16",cx:"16",cy:"16",fill:"#fff",stroke:"blue","stroke-width":"12"}}),t._v(" "),n("circle",{attrs:{id:"background",r:"16",cx:"16",cy:"16",fill:"#fff","fill-opacity":"0.5",stroke:"yellow","stroke-width":"12","stroke-dasharray":t.percentStr}})])]),t._v(" "),n("h1",[t._v(t._s(100*t.percent+"%"))])])},s=[],o={render:i,staticRenderFns:s};e.a=o},lO7g:function(t,e,n){"use strict";function i(t){n("rgo6")}var s=n("Fs8J"),o=n("wfBs"),a=n("VU/8"),r=i,c=a(s.a,o.a,!1,r,"data-v-6726c5c2",null);e.a=c.exports},mqOj:function(t,e){},"nKb+":function(t,e,n){"use strict";var i=n("cNwt");e.a={name:"login",components:{Vote:i.a},data:function(){return{text:""}},computed:{isAuthenticated:function(){return this.$store.state.auth.isAuthenticated},username:function(){return this.$store.state.auth.username}},methods:{handleClick:function(){this.text.trim()&&(this.$store.commit("username",{text:this.text}),this.text="")},logout:function(){this.$store.commit("logout")}}}},pdNA:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"options"},[t._l(t.options,function(t){return n("div",{staticClass:"vote-title"},[n("vote-option",{attrs:{option:t}})],1)}),t._v(" "),n("result")],2)},s=[],o={render:i,staticRenderFns:s};e.a=o},rgo6:function(t,e){},uOjy:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vote-action"},[n("h1",[t._v(t._s(t.option.title))]),t._v(" "),t._l(t.votes,function(e){return n("div",{staticClass:"action"},[t._v("\n    "+t._s(e.name)+"\n  ")])}),t._v(" "),t.complated?n("div",[n("button",{staticClass:"vote-btn complated",on:{click:t.handleDelete}},[t._v("已投")])]):n("div",[n("button",{staticClass:"vote-btn",on:{click:t.handleName}},[t._v("投票")])])],2)},s=[],o={render:i,staticRenderFns:s};e.a=o},vQjt:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"result"},[n("div",{staticClass:"title"},[t._v("投票结果")]),t._v(" "),n("div",{staticClass:"vote-data"},[t._m(0),t._v(" "),t._l(t.options,function(t){return n("div",{staticClass:"sort"},[n("chart",{attrs:{option:t}})],1)})],2)])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[t._v("排名")]),t._v(" "),n("li",[t._v("票数")]),t._v(" "),n("li",[t._v("占比")])])}],o={render:i,staticRenderFns:s};e.a=o},wfBs:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"login-wrap"},[n("login")],1)])},s=[],o={render:i,staticRenderFns:s};e.a=o},xJD8:function(t,e,n){"use strict";var i=n("lO7g");e.a={name:"app",components:{Home:i.a}}},xJsL:function(t,e,n){"use strict";function i(t){n("mqOj")}var s=n("nKb+"),o=n("9dN6"),a=n("VU/8"),r=i,c=a(s.a,o.a,!1,r,"data-v-c8d24dd4",null);e.a=c.exports},xQjm:function(t,e){},ykTU:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.8149df45fee251c87002.js.map